2025-11-20 14:19:16 - OTMS - ERROR - Role change failed for user Aggu: Instance <User at 0x2928a937850> is not bound to a Session; attribute refresh operation cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Users\Praveen\Documents\Project OTMS\oil_app_ui.py", line 13315, in <module>
    elif new_role == "supervisor" and not current_user_obj.supervisor_code_hash:
                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Praveen\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\sqlalchemy\orm\attributes.py", line 569, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Praveen\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\sqlalchemy\orm\attributes.py", line 1096, in get
    value = self._fire_loader_callables(state, key, passive)
  File "C:\Users\Praveen\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\sqlalchemy\orm\attributes.py", line 1126, in _fire_loader_callables
    return state._load_expired(state, passive)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Praveen\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\sqlalchemy\orm\state.py", line 803, in _load_expired
    self.manager.expired_attribute_loader(self, toload, passive)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Praveen\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\sqlalchemy\orm\loading.py", line 1607, in load_scalar_attributes
    raise orm_exc.DetachedInstanceError(
    ...<2 lines>...
    )
sqlalchemy.orm.exc.DetachedInstanceError: Instance <User at 0x2928a937850> is not bound to a Session; attribute refresh operation cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-11-20 17:55:16 - OTMS - ERROR - Failed to load TOA-Yade: name 'YadeVoyage' is not defined
Traceback (most recent call last):
  File "D:\Project OTMS-New\pages\toa_yade.py", line 427, in render
    .join(YadeVoyage, TOAYadeSummary.voyage_id == YadeVoyage.id)
          ^^^^^^^^^^
NameError: name 'YadeVoyage' is not defined
2025-11-20 17:55:31 - OTMS - ERROR - Failed to load TOA-Yade: name 'YadeVoyage' is not defined
Traceback (most recent call last):
  File "D:\Project OTMS-New\pages\toa_yade.py", line 427, in render
    .join(YadeVoyage, TOAYadeSummary.voyage_id == YadeVoyage.id)
          ^^^^^^^^^^
NameError: name 'YadeVoyage' is not defined
